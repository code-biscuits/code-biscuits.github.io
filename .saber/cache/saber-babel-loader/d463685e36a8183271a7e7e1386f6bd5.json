{"ast":null,"code":"/*\n  modified after Vue Router's scroll util\n  https://github.com/vuejs/vue-router/blob/3c7d8ab20f9c716652e92065767a5a44ffb21c13/src/util/scroll.js\n*/\n\n/**\n *\n * @param {object} router Vue Router instance\n * @param {object} to Destination route\n * @param {object} from Starting route\n */\nexport default function (router, to, from) {\n  if (!router.app) {\n    return;\n  }\n\n  const behavior = router.options.scrollBehavior;\n\n  if (!behavior) {\n    return;\n  } // wait until re-render finishes before scrolling\n\n\n  router.app.$nextTick(() => {\n    const shouldScroll = behavior.call(router, to, from, null);\n\n    if (!shouldScroll) {\n      return;\n    }\n\n    if (typeof shouldScroll.then === 'function') {\n      shouldScroll.then(shouldScroll => {\n        scrollToPosition(shouldScroll);\n      }).catch(error => {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(err);\n        }\n      });\n    } else {\n      scrollToPosition(shouldScroll);\n    }\n  });\n}\n\nfunction getElementPosition(el, offset) {\n  const docEl = document.documentElement;\n  const docRect = docEl.getBoundingClientRect();\n  const elRect = el.getBoundingClientRect();\n  return {\n    x: elRect.left - docRect.left - offset.x,\n    y: elRect.top - docRect.top - offset.y\n  };\n}\n\nfunction isValidPosition(obj) {\n  return isNumber(obj.x) || isNumber(obj.y);\n}\n\nfunction normalizePosition(obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : window.pageXOffset,\n    y: isNumber(obj.y) ? obj.y : window.pageYOffset\n  };\n}\n\nfunction normalizeOffset(obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : 0,\n    y: isNumber(obj.y) ? obj.y : 0\n  };\n}\n\nfunction isNumber(v) {\n  return typeof v === 'number';\n}\n\nfunction scrollToPosition(shouldScroll) {\n  let position;\n  const isObject = typeof shouldScroll === 'object';\n\n  if (isObject && typeof shouldScroll.selector === 'string') {\n    const el = document.getElementById(shouldScroll.selector.substr(1));\n\n    if (el) {\n      let offset = shouldScroll.offset && typeof shouldScroll.offset === 'object' ? shouldScroll.offset : {};\n      offset = normalizeOffset(offset);\n      position = getElementPosition(el, offset);\n    } else if (isValidPosition(shouldScroll)) {\n      position = normalizePosition(shouldScroll);\n    }\n  } else if (isObject && isValidPosition(shouldScroll)) {\n    position = normalizePosition(shouldScroll);\n  }\n\n  if (position) {\n    window.scrollTo(position.x, position.y);\n  }\n}","map":{"version":3,"sources":["/Users/cmgriffing/code-biscuits.github.io/node_modules/saber/vue-app/helpers/scroll-handler.js"],"names":["router","to","from","app","behavior","options","scrollBehavior","$nextTick","shouldScroll","call","then","scrollToPosition","catch","error","process","env","NODE_ENV","console","err","getElementPosition","el","offset","docEl","document","documentElement","docRect","getBoundingClientRect","elRect","x","left","y","top","isValidPosition","obj","isNumber","normalizePosition","window","pageXOffset","pageYOffset","normalizeOffset","v","position","isObject","selector","getElementById","substr","scrollTo"],"mappings":"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","sourcesContent":["/*\n  modified after Vue Router's scroll util\n  https://github.com/vuejs/vue-router/blob/3c7d8ab20f9c716652e92065767a5a44ffb21c13/src/util/scroll.js\n*/\n\n/**\n *\n * @param {object} router Vue Router instance\n * @param {object} to Destination route\n * @param {object} from Starting route\n */\nexport default function(router, to, from) {\n  if (!router.app) {\n    return\n  }\n\n  const behavior = router.options.scrollBehavior\n  if (!behavior) {\n    return\n  }\n\n  // wait until re-render finishes before scrolling\n  router.app.$nextTick(() => {\n    const shouldScroll = behavior.call(router, to, from, null)\n\n    if (!shouldScroll) {\n      return\n    }\n\n    if (typeof shouldScroll.then === 'function') {\n      shouldScroll\n        .then(shouldScroll => {\n          scrollToPosition(shouldScroll)\n        })\n        .catch(error => {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error(err)\n          }\n        })\n    } else {\n      scrollToPosition(shouldScroll)\n    }\n  })\n}\n\nfunction getElementPosition(el, offset) {\n  const docEl = document.documentElement\n  const docRect = docEl.getBoundingClientRect()\n  const elRect = el.getBoundingClientRect()\n  return {\n    x: elRect.left - docRect.left - offset.x,\n    y: elRect.top - docRect.top - offset.y\n  }\n}\n\nfunction isValidPosition(obj) {\n  return isNumber(obj.x) || isNumber(obj.y)\n}\n\nfunction normalizePosition(obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : window.pageXOffset,\n    y: isNumber(obj.y) ? obj.y : window.pageYOffset\n  }\n}\n\nfunction normalizeOffset(obj) {\n  return {\n    x: isNumber(obj.x) ? obj.x : 0,\n    y: isNumber(obj.y) ? obj.y : 0\n  }\n}\n\nfunction isNumber(v) {\n  return typeof v === 'number'\n}\n\nfunction scrollToPosition(shouldScroll) {\n  let position\n  const isObject = typeof shouldScroll === 'object'\n  if (isObject && typeof shouldScroll.selector === 'string') {\n    const el = document.getElementById(shouldScroll.selector.substr(1))\n    if (el) {\n      let offset =\n        shouldScroll.offset && typeof shouldScroll.offset === 'object'\n          ? shouldScroll.offset\n          : {}\n      offset = normalizeOffset(offset)\n      position = getElementPosition(el, offset)\n    } else if (isValidPosition(shouldScroll)) {\n      position = normalizePosition(shouldScroll)\n    }\n  } else if (isObject && isValidPosition(shouldScroll)) {\n    position = normalizePosition(shouldScroll)\n  }\n\n  if (position) {\n    window.scrollTo(position.x, position.y)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}